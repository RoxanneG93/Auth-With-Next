{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime-corejs2/regenerator\";\nimport _objectSpread from \"@babel/runtime-corejs2/helpers/esm/objectSpread\";\nimport _asyncToGenerator from \"@babel/runtime-corejs2/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime-corejs2/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime-corejs2/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime-corejs2/helpers/esm/getPrototypeOf\";\nimport _inherits from \"@babel/runtime-corejs2/helpers/esm/inherits\";\nimport React from \"react\";\nimport Document, { Head, Main, NextScript } from 'next/document';\nimport { getServerSideToken, getUserScript } from '../lib/auth'; // *** this file will read on the server, want to get info from our token to user later****\n\nvar MyDocument =\n/*#__PURE__*/\nfunction (_Document) {\n  _inherits(MyDocument, _Document);\n\n  function MyDocument() {\n    _classCallCheck(this, MyDocument);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(MyDocument).apply(this, arguments));\n  }\n\n  _createClass(MyDocument, [{\n    key: \"render\",\n    value: function render() {\n      var _this$props$user = this.props.user,\n          user = _this$props$user === void 0 ? {} : _this$props$user;\n      return React.createElement(\"html\", null, React.createElement(Head, null), React.createElement(\"body\", null, React.createElement(Main, null), React.createElement(\"script\", {\n        dangerouslySetInnerHTML: {\n          __html: getUserScript(user)\n        }\n      }), React.createElement(NextScript, null)));\n    }\n  }], [{\n    key: \"getInitialProps\",\n    value: function () {\n      var _getInitialProps = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee(context) {\n        var props, userData;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return Document.getInitialProps(context);\n\n              case 2:\n                props = _context.sent;\n                _context.next = 5;\n                return getServerSideToken(context.req);\n\n              case 5:\n                userData = _context.sent;\n                return _context.abrupt(\"return\", _objectSpread({}, props, userData));\n\n              case 7:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n\n      function getInitialProps(_x) {\n        return _getInitialProps.apply(this, arguments);\n      }\n\n      return getInitialProps;\n    }()\n  }]);\n\n  return MyDocument;\n}(Document);\n\nexport { MyDocument as default };","map":{"version":3,"sources":["C:\\Users\\RxRbl\\Desktop\\Work\\NextAuth\\pages\\_document.js"],"names":["Document","Head","Main","NextScript","getServerSideToken","getUserScript","MyDocument","props","user","__html","context","getInitialProps","req","userData"],"mappings":";;;;;;;;;AAAA,OAAOA,QAAP,IAAmBC,IAAnB,EAAyBC,IAAzB,EAA+BC,UAA/B,QAAiD,eAAjD;AACA,SAASC,kBAAT,EAA6BC,aAA7B,QAAkD,aAAlD,C,CACA;;IAEqBC,U;;;;;;;;;;;;;6BAUR;AAAA,6BACiB,KAAKC,KADtB,CACGC,IADH;AAAA,UACGA,IADH,iCACU,EADV;AAEL,aACI,kCACI,oBAAC,IAAD,OADJ,EAEI,kCACI,oBAAC,IAAD,OADJ,EAEI;AAAQ,QAAA,uBAAuB,EAAE;AAAEC,UAAAA,MAAM,EAAEJ,aAAa,CAACG,IAAD;AAAvB;AAAjC,QAFJ,EAGI,oBAAC,UAAD,OAHJ,CAFJ,CADJ;AAYH;;;;;;gDAtB4BE,O;;;;;;;uBACLV,QAAQ,CAACW,eAAT,CAAyBD,OAAzB,C;;;AAAdH,gBAAAA,K;;uBACiBH,kBAAkB,CAACM,OAAO,CAACE,GAAT,C;;;AAAnCC,gBAAAA,Q;mEAEMN,K,EAAUM,Q;;;;;;;;;;;;;;;;;;;EANUb,Q;;SAAnBM,U","sourcesContent":["import Document, { Head, Main, NextScript } from 'next/document';\r\nimport { getServerSideToken, getUserScript } from '../lib/auth';\r\n// *** this file will read on the server, want to get info from our token to user later****\r\n\r\nexport default class MyDocument extends Document {\r\n\r\n    static async getInitialProps(context) {\r\n        const props = await Document.getInitialProps(context);\r\n        const userData = await getServerSideToken(context.req);\r\n\r\n        return { ...props, ...userData }\r\n    }\r\n\r\n\r\n    render() {\r\n        const { user = {} } = this.props;\r\n        return (\r\n            <html>\r\n                <Head />\r\n                <body>\r\n                    <Main />\r\n                    <script dangerouslySetInnerHTML={{ __html: getUserScript(user) }}></script>\r\n                    <NextScript />\r\n\r\n                </body>\r\n            </html>\r\n\r\n        )\r\n    }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}